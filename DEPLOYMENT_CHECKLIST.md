# ✅ Чеклист деплоя на Railway

## Перед деплоем

### 1. Локальное тестирование
- [ ] Бот запускается локально без ошибок
- [ ] Все команды работают (`/start`, `/help`)
- [ ] Расписание скачивается и отправляется
- [ ] Уведомления работают (если включен GEMINI_API_KEY)
- [ ] База данных создается автоматически

### 2. Файлы проекта
- [ ] `requirements.txt` содержит все зависимости
- [ ] `Procfile` создан (`worker: python bot_multi.py`)
- [ ] `runtime.txt` создан (`python-3.11.0`)
- [ ] `railway.json` создан
- [ ] `.gitignore` исключает `.env`, `*.log`, `venv/`, `__pycache__/`

### 3. Переменные окружения
Подготовьте эти ключи заранее:
- [ ] `TELEGRAM_BOT_TOKEN` - получен от @BotFather
- [ ] `GOOGLE_API_KEY` - получен из Google Cloud Console
- [ ] `GEMINI_API_KEY` - получен из Google AI Studio

## Деплой

### 4. Создание проекта Railway
- [ ] Создан аккаунт на railway.app
- [ ] Создан новый проект
- [ ] Подключен GitHub репозиторий (или используется CLI)

### 5. Настройка проекта
- [ ] Добавлены все переменные окружения в Railway
- [ ] Проверены логи деплоя (нет ошибок)
- [ ] Бот показывает статус "Running"

### 6. Тестирование в продакшне
- [ ] Бот отвечает на `/start` в Telegram
- [ ] Можно выбрать группу
- [ ] Расписание отправляется
- [ ] Уведомления работают (если настроены)

## После деплоя

### 7. Мониторинг
- [ ] Проверить логи: `railway logs`
- [ ] Убедиться что нет критических ошибок
- [ ] Проверить использование ресурсов в Railway Dashboard

### 8. Документация
- [ ] Обновлен README.md с инструкцией для пользователей
- [ ] Записаны учетные данные в безопасное место
- [ ] Команда знает как обновлять бота

## Резервное копирование

### 9. Бэкап (важно!)
- [ ] Настроена стратегия бэкапа БД (PostgreSQL recommended)
- [ ] Сохранены переменные окружения отдельно
- [ ] Есть копия репозитория на GitHub

## Поддержка

### 10. После запуска
- [ ] Протестированы все функции в реальных условиях
- [ ] Пользователи уведомлены о запуске
- [ ] Настроен мониторинг ошибок (опционально: Sentry)

---

## Команды Railway

```bash
# Логи в реальном времени
railway logs

# Статус деплоя
railway status

# Обновление бота
git push origin main  # Railway автоматически задеплоит

# Переменные окружения
railway variables

# Перезапуск
railway restart
```

---

## Быстрый старт

Если всё готово:

```bash
# 1. Создайте репозиторий
git init
git add .
git commit -m "Initial commit"
git push origin main

# 2. Деплой через CLI (опционально)
railway login
railway init
railway up

# 3. Добавьте переменные окружения в Railway Dashboard

# 4. Проверьте логи
railway logs
```

---

## Проблемы?

Смотрите полную инструкцию: `DEPLOY_RAILWAY.md`

